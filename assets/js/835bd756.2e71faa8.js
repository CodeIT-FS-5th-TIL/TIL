"use strict";(self.webpackChunkcode_it_fs_5th_til=self.webpackChunkcode_it_fs_5th_til||[]).push([[9247],{6367:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>o,frontMatter:()=>i,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"\ubc15\uc138\uc815/25.02/250304","title":"TIL (Today I Learned)","description":"\ub0a0\uc9dc: 2025-03-04","source":"@site/docs/\ubc15\uc138\uc815/25.02/250304.md","sourceDirName":"\ubc15\uc138\uc815/25.02","slug":"/\ubc15\uc138\uc815/25.02/250304","permalink":"/TIL/docs/\ubc15\uc138\uc815/25.02/250304","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/\ubc15\uc138\uc815/25.02/250304.md","tags":[],"version":"current","frontMatter":{},"sidebar":"TILSidebar","previous":{"title":"250227","permalink":"/TIL/docs/\ubc15\uc138\uc815/25.02/250227"},"next":{"title":"\ucd5c\uc740\ube44","permalink":"/TIL/docs/\ucd5c\uc740\ube44/"}}');var d=s(4848),t=s(8453);const i={},c="TIL (Today I Learned)",l={},h=[{value:"\ud83d\udcda \uc8fc\uc81c: React Query\ub780 \ubb34\uc5c7\uc778\uac00",id:"-\uc8fc\uc81c-react-query\ub780-\ubb34\uc5c7\uc778\uac00",level:2},{value:"\ud83d\udca1React Query",id:"react-query",level:2},{value:"\uc8fc\uc694 \uae30\ub2a5",id:"\uc8fc\uc694-\uae30\ub2a5",level:3},{value:"\uc8fc\uc694 \ud6c5",id:"\uc8fc\uc694-\ud6c5",level:3},{value:"\ud83d\udca1 useQuery",id:"-usequery",level:2},{value:"\uc8fc\uc694 \uc635\uc158",id:"\uc8fc\uc694-\uc635\uc158",level:3},{value:"\ucf54\ub4dc \uc608\uc2dc",id:"\ucf54\ub4dc-\uc608\uc2dc",level:3},{value:"\ud83d\udca1 useMutation",id:"-usemutation",level:2},{value:"\uc8fc\uc694 \uc635\uc158",id:"\uc8fc\uc694-\uc635\uc158-1",level:3},{value:"\ucf54\ub4dc \uc608\uc2dc",id:"\ucf54\ub4dc-\uc608\uc2dc-1",level:3},{value:"\ud83d\udcc8 \ub2e4\uc74c \ud559\uc2b5 \uacc4\ud68d(TIL \uc8fc\uc81c)",id:"-\ub2e4\uc74c-\ud559\uc2b5-\uacc4\ud68dtil-\uc8fc\uc81c",level:2},{value:"\ud83d\udd17 \ucc38\uace0 \uc790\ub8cc",id:"-\ucc38\uace0-\uc790\ub8cc",level:2}];function a(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",input:"input",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"til-today-i-learned",children:"TIL (Today I Learned)"})}),"\n",(0,d.jsx)(n.h1,{id:"-\uc624\ub298-\ubc30\uc6b4-\uac83",children:"\ud83d\udcdd \uc624\ub298 \ubc30\uc6b4 \uac83"}),"\n",(0,d.jsx)(n.p,{children:"\ub0a0\uc9dc: 2025-03-04"}),"\n",(0,d.jsx)(n.h2,{id:"-\uc8fc\uc81c-react-query\ub780-\ubb34\uc5c7\uc778\uac00",children:"\ud83d\udcda \uc8fc\uc81c: React Query\ub780 \ubb34\uc5c7\uc778\uac00"}),"\n",(0,d.jsx)(n.p,{children:"\uc9c0\ub09c\uc8fc \uc218\uc5c5\uc2dc\uac04\uc5d0 \ub098\uc628 \uac1c\ub150\uc778 React Query\uac00 \ubb34\uc5c7\uc778\uc9c0 \uc81c\ub300\ub85c \uc774\ud574\ud558\uc9c0 \ubabb\ud574\uc11c \uc624\ub298 \ub2e4\uc2dc \uacf5\ubd80\ud558\uc5ec \uc815\ub9ac\ud574\ubcf4\uba74\uc11c \ubc30\uc6b4 \ub0b4\uc6a9\uc744 \uae00\ub85c \uc801\uace0\uc790 \ud569\ub2c8\ub2e4."}),"\n",(0,d.jsx)(n.h2,{id:"react-query",children:"\ud83d\udca1React Query"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"React Query"}),"\ub294 \ube44\ub3d9\uae30 \ub370\uc774\ud130 \uad00\ub9ac \ub77c\uc774\ube0c\ub7ec\ub9ac\uc785\ub2c8\ub2e4.",(0,d.jsx)(n.br,{}),"\n",(0,d.jsx)(n.code,{children:"React Query"}),"\ub97c \uc0ac\uc6a9\ud558\uba74 \ub370\uc774\ud130 \uc694\uccad, \uce90\uc2f1, \uc0c1\ud0dc \uad00\ub9ac, \ub9ac\ud328\uce6d(\uc0c8\ub85c\uace0\uce68) \ub4f1\uc744 \uc790\ub3d9\uc73c\ub85c \ud574\uc90d\ub2c8\ub2e4. ",(0,d.jsx)(n.code,{children:"npm i @tanstack/react-query"})," \uba85\ub839\uc5b4\ub97c \ud1b5\ud574 \uc124\uce58\ud558\uc5ec \uc0ac\uc6a9 \uac00\ub2a5\ud569\ub2c8\ub2e4."]}),"\n",(0,d.jsx)(n.h3,{id:"\uc8fc\uc694-\uae30\ub2a5",children:"\uc8fc\uc694 \uae30\ub2a5"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsx)(n.li,{children:"\uc790\ub3d9 \uce90\uc2f1: \ud55c \ubc88 \uac00\uc838\uc628 \ub370\uc774\ud130\ub97c \uce90\uc2f1\ud574\uc11c, \uac19\uc740 \uc694\uccad\uc744 \uc5ec\ub7ec \ubc88 \ud558\uc9c0 \uc54a\uc544\ub3c4 \ub428"}),"\n",(0,d.jsx)(n.li,{children:"\uc790\ub3d9 \ub9ac\ud328\uce6d: \uc790\ub3d9\uc73c\ub85c \ucd5c\uc2e0 \ub370\uc774\ud130\ub97c \uac00\uc838\uc634"}),"\n",(0,d.jsx)(n.li,{children:"\uc790\ub3d9 \ub3d9\uae30\ud654: \uc5ec\ub7ec \ucef4\ud3ec\ub10c\ud2b8\uc5d0\uc11c \uac19\uc740 \ub370\uc774\ud130\ub97c \uc0ac\uc6a9\ud560 \ub54c, \ud558\ub098\uac00 \uc5c5\ub370\uc774\ud2b8\ub418\uba74 \ubaa8\ub450 \ubc18\uc601\ub428"}),"\n",(0,d.jsxs)(n.li,{children:["\uc870\uac74\ubd80 \uc694\uccad: ",(0,d.jsx)(n.code,{children:"enabled"})," \uc635\uc158\uc744 \ud65c\uc6a9\ud574 \ud2b9\uc815 \uc870\uac74\uc5d0\uc11c\ub9cc API \ud638\ucd9c \uac00\ub2a5"]}),"\n"]}),"\n",(0,d.jsx)(n.h3,{id:"\uc8fc\uc694-\ud6c5",children:"\uc8fc\uc694 \ud6c5"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"useQuery"})," : GET \uc694\uccad (\ub370\uc774\ud130 \uac00\uc838\uc624\uae30)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"useMutation"})," : POST, PUT, DELETE \uc694\uccad (\ub370\uc774\ud130 \uc218\uc815, \uc0ad\uc81c)"]}),"\n",(0,d.jsxs)(n.li,{children:[(0,d.jsx)(n.code,{children:"useQueryClient"})," : \uce90\uc2dc\ub41c \ub370\uc774\ud130 \uc218\ub3d9 \uc5c5\ub370\uc774\ud2b8"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"-usequery",children:"\ud83d\udca1 useQuery"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"useQuery"}),"\ub294 \ube44\ub3d9\uae30 \ub370\uc774\ud130\ub97c \uc27d\uac8c \uad00\ub9ac\ud560 \uc218 \uc788\ub3c4\ub85d \ub3c4\uc640\uc8fc\ub294 \ud6c5\uc785\ub2c8\ub2e4."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"useState"}),"\uc640 ",(0,d.jsx)(n.code,{children:"useEffect"}),"\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc0c1\ud0dc\ub97c \uc9c1\uc811 \uad00\ub9ac\ud574\uc57c\ud574\uc11c \ucf54\ub4dc\uac00 \uae38\uc5b4\uc838\uc57c\ud588\ub358 \uae30\uc874 \ubc29\uc2dd\uacfc \ub2ec\ub9ac ",(0,d.jsx)(n.code,{children:"useQuery"}),"\ub97c \uc0ac\uc6a9\ud558\uba74 \uc790\ub3d9\uc73c\ub85c \ub85c\ub529, \uc5d0\ub7ec, \uce90\uc2f1, \ub9ac\ud328\uce6d \ub4f1\uc744 \ud574\uc8fc\uc5b4 \ud6a8\uc728\uc801\uc73c\ub85c \uad00\ub9ac\ub97c \ub3c4\uc640\uc90d\ub2c8\ub2e4."]}),"\n",(0,d.jsx)(n.h3,{id:"\uc8fc\uc694-\uc635\uc158",children:"\uc8fc\uc694 \uc635\uc158"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"\uc635\uc158"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"\uc124\uba85"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"queryKey"})}),(0,d.jsx)(n.td,{children:"\ucffc\ub9ac\ub97c \uc2dd\ubcc4\ud558\ub294 \uace0\uc720 \ud0a4(\ubc30\uc5f4)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"queryFn"})}),(0,d.jsx)(n.td,{children:"\ub370\uc774\ud130\ub97c \uac00\uc838\uc624\ub294 \ube44\ub3d9\uae30 \ud568\uc218"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"enabled"})}),(0,d.jsxs)(n.td,{children:["\ucffc\ub9ac \uc790\ub3d9 \uc2e4\ud589 \uc5ec\ubd80 (boolean), ",(0,d.jsx)(n.code,{children:"true"}),"\uc77c \ub54c\ub9cc \ub370\uc774\ud130\ub97c \uac00\uc838\uc634"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"staleTime"})}),(0,d.jsx)(n.td,{children:"\ub370\uc774\ud130\uac00 \uc624\ub798\ub41c \uac83\uc73c\ub85c \uac04\uc8fc\ub418\ub294 \uc2dc\uac04(ms)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"cacheTime"})}),(0,d.jsx)(n.td,{children:"\ub370\uc774\ud130\uac00 \uce90\uc2dc\uc5d0\uc11c \uc720\uc9c0\ub418\ub294 \uc2dc\uac04(ms)"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"retry"})}),(0,d.jsx)(n.td,{children:"\uc2e4\ud328 \uc2dc \uc7ac\uc2dc\ub3c4 \ud69f\uc218"})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:(0,d.jsx)(n.code,{children:"refetchOnWindowFocus"})}),(0,d.jsx)(n.td,{children:"\ucc3d\uc774 \ud3ec\ucee4\uc2a4\ub420 \ub54c \uc790\ub3d9 \ub9ac\ud328\uce58 \uc5ec\ubd80"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"\ucf54\ub4dc-\uc608\uc2dc",children:"\ucf54\ub4dc \uc608\uc2dc"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-javascript",children:"// getPosts\uc5d0\uc11c \ub370\uc774\ud130\ub97c \ubc1b\uc544\uc640\uc11c(GET) \n// useQuery \ub9ac\ud134 \uac12(\ub370\uc774\ud130, \ub370\uc774\ud130\ub97c \ubc1b\uc544\uc628 \uc2dc\uac04, \ub2e4\uc591\ud55c \uc0c1\ud0dc \uc815\ubcf4)\uc744 \ubc1b\uc544\uc628 \uc608\uc2dc\n\nimport { useQuery } from '@tanstack/react-query';\nimport { getPosts } from './api';\n\nfunction HomePage() {\n  const result = useQuery({ queryKey: ['posts'], queryFn: getPosts });\n  console.log(result);\n\n  return <div>\ud648\ud398\uc774\uc9c0</div>;\n}\n\nexport default HomePage;\n"})}),"\n",(0,d.jsx)(n.h2,{id:"-usemutation",children:"\ud83d\udca1 useMutation"}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"useQuery"}),"\ub294 \ub370\uc774\ud130\ub97c \uac00\uc838\uc624\ub294(GET) \ub370 \uc0ac\uc6a9\ud558\uc9c0\ub9cc, ",(0,d.jsx)(n.code,{children:"useMutation"}),"\uc740 \ub370\uc774\ud130\ub97c \ubcc0\uacbd(POST, PUT, DELETE)\ud560 \ub54c \uc0ac\uc6a9\ud569\ub2c8\ub2e4."]}),"\n",(0,d.jsxs)(n.p,{children:[(0,d.jsx)(n.code,{children:"useMutation"}),"\uc774 \uce90\uc2dc\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\uc9c0 \uc54a\uae30 \ub54c\ubb38\uc5d0 \uce90\uc2dc\ub97c \uc5c5\ub370\uc774\ud2b8\ud558\uae30 \uc704\ud574\uc120 ",(0,d.jsx)(n.code,{children:"invalidateQueries"})," \ub97c \ud568\uaed8 \uc0ac\uc6a9\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,d.jsx)(n.h3,{id:"\uc8fc\uc694-\uc635\uc158-1",children:"\uc8fc\uc694 \uc635\uc158"}),"\n",(0,d.jsxs)(n.table,{children:[(0,d.jsx)(n.thead,{children:(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"\uc635\uc158"})}),(0,d.jsx)(n.th,{children:(0,d.jsx)(n.strong,{children:"\uc124\uba85"})})]})}),(0,d.jsxs)(n.tbody,{children:[(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"mutate"}),(0,d.jsxs)(n.td,{children:["\uc694\uccad\uc744 \uc2e4\ud589\ud558\ub294 \ud568\uc218 (",(0,d.jsx)(n.code,{children:"mutate(newData)"}),")"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"mutateAsync"}),(0,d.jsxs)(n.td,{children:["\ube44\ub3d9\uae30 \uc694\uccad\uc744 \uc2e4\ud589\ud558\ub294 \ud568\uc218 (",(0,d.jsx)(n.code,{children:"await mutateAsync(newData)"}),")"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"isPending"}),(0,d.jsxs)(n.td,{children:["\uc694\uccad\uc774 \uc9c4\ud589 \uc911\uc778\uc9c0 (",(0,d.jsx)(n.code,{children:"true"}),"/",(0,d.jsx)(n.code,{children:"false"}),")"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"isError"}),(0,d.jsxs)(n.td,{children:["\uc694\uccad\uc774 \uc2e4\ud328\ud588\ub294\uc9c0 (",(0,d.jsx)(n.code,{children:"true"}),"/",(0,d.jsx)(n.code,{children:"false"}),")"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"isSuccess"}),(0,d.jsxs)(n.td,{children:["\uc694\uccad\uc774 \uc131\uacf5\ud588\ub294\uc9c0 (",(0,d.jsx)(n.code,{children:"true"}),"/",(0,d.jsx)(n.code,{children:"false"}),")"]})]}),(0,d.jsxs)(n.tr,{children:[(0,d.jsx)(n.td,{children:"error"}),(0,d.jsx)(n.td,{children:"\uc694\uccad \uc2e4\ud328 \uc2dc \uc5d0\ub7ec \uac1d\uccb4 \ubc18\ud658"})]})]})]}),"\n",(0,d.jsx)(n.h3,{id:"\ucf54\ub4dc-\uc608\uc2dc-1",children:"\ucf54\ub4dc \uc608\uc2dc"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsxs)(n.li,{children:["\ucd94\uac00 \uac1c\ub150 ",(0,d.jsx)(n.code,{children:"useQueryClient"})," \uc124\uba85: ",(0,d.jsx)(n.code,{children:'queryClient.invalidateQueries(["users"])'})," \ub97c \ud1b5\ud574 ",(0,d.jsx)(n.code,{children:"users"})," \ub370\uc774\ud130\ub97c \ub2e4\uc2dc \ubd88\ub7ec\uc640 \ucd5c\uc2e0 \uc0c1\ud0dc \uc720\uc9c0"]}),"\n"]}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{className:"language-javascript",children:'// addUser \ud1b5\ud574 \ub370\uc774\ud130\ub97c \ucd94\uac00\ud558\ub294 API\uc694\uccad(POST) \ud568\uc218\n// useMutation\ub97c \ud1b5\ud574 \uc0c8\ub85c\uc6b4 \ub370\uc774\ud130\ub97c \ucd94\uac00\ud55c \ud6c4, \ubaa9\ub85d\uc744 \uc790\ub3d9\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ud55c \uc608\uc2dc\n\nimport { useMutation, useQueryClient } from "@tanstack/react-query";\nimport axios from "axios";\n\nconst addUser = async (newUser) => {\n  const { data } = await axios.post("/api/users", newUser);\n  return data;\n};\n\nconst AddUser = () => {\n  const queryClient = useQueryClient();\n  const mutation = useMutation({\n    mutationFn: addUser,\n    onSuccess: () => {\n      queryClient.invalidateQueries(["users"]); // users \ub370\uc774\ud130 \ub2e4\uc2dc \uac00\uc838\uc624\uae30\n    },\n  });\n\n  return (\n    <button onClick={() => mutation.mutate({ name: "New User" })}>\n      Add User\n    </button>\n  );\n};\n'})}),"\n",(0,d.jsx)(n.h2,{id:"-\ub2e4\uc74c-\ud559\uc2b5-\uacc4\ud68dtil-\uc8fc\uc81c",children:"\ud83d\udcc8 \ub2e4\uc74c \ud559\uc2b5 \uacc4\ud68d(TIL \uc8fc\uc81c)"}),"\n",(0,d.jsxs)(n.ul,{className:"contains-task-list",children:["\n",(0,d.jsxs)(n.li,{className:"task-list-item",children:[(0,d.jsx)(n.input,{type:"checkbox",disabled:!0})," ","useQuery \uc0ac\uc6a9\ubc95 \uc790\uc138\ud558\uac8c!"]}),"\n",(0,d.jsxs)(n.li,{className:"task-list-item",children:[(0,d.jsx)(n.input,{type:"checkbox",disabled:!0})," ","Auth \uac1c\ub150\uacfc \uc0ac\uc6a9\ubc95"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"-\ucc38\uace0-\uc790\ub8cc",children:"\ud83d\udd17 \ucc38\uace0 \uc790\ub8cc"}),"\n",(0,d.jsxs)(n.ul,{children:["\n",(0,d.jsx)(n.li,{children:"\ucf54\ub4dc\uc787 \ub808\uc2a8"}),"\n",(0,d.jsx)(n.li,{children:(0,d.jsx)(n.a,{href:"https://tanstack.com/query/v5/docs/framework/react/overview",children:"reactQuery  \uacf5\uc2dd\ubb38\uc11c"})}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>c});var r=s(6540);const d={},t=r.createContext(d);function i(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:i(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);