
인증을 구현할 때, 실무에서는 주로 stateful보다 stateless 방식으로 사용한다. 그래서 stateless 방식과 stateless 방식에서 일반적으로 사용하는 Authorization 헤더 인증 방식으로 아래와 같이 인증 절차를 정리하였다.

1. 유저가 클라이언트의 로그인 리퀘스트를 통해 이메일과 비밀번호를 보낸다.
2. 서버는 이 정보가 유효함을 확인하여 토큰을 만든다.

	토큰에는 아이디와 만료일 등의 정보를 담고 있다. 토큰을 만들 때, 서버만 알고 있는 비밀키를 사용해서 암호화한다.

3. 서버가 토큰을 발행한 후에는 클라이언트에게 전달한다. 이때 리스폰스 바디에 토큰을 저장해서 전달한다.
4. 클라이언트에서는 개발자가 정한 방식대로 인증서를 저장한다. 쿠키로 저장할 수도 있고, 로컬 스토리지로 저장할 수도 있고, 세션 스토리지로 저장할 수 있다.
5. 클라이언트가 서버에 요청할 때 리퀘스트에 Authorization 헤더를 추가하고 그 뒤에 인증서를 붙여준다.
6. 서버는 Authorization 뒤에 있는 인증서, 즉 토큰을 비밀키를 사용해서 다시 해석하고, 안에 저장된 만료일을 확인하는 등 간단한 테스트를 거친 후 유저를 특정짓는다.
7. 만약 로그아웃을 하고 싶으면 클라이언트에서 직접 저장한 토큰을 삭제해주면 된다.
