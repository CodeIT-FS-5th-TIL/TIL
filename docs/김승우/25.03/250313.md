
## ğŸ“Â ë°°ìš´ ë‚´ìš©


### Express í•µì‹¬ ê¸°ëŠ¥

- Express ì—ì„œ ë¯¸ë“¤ì›¨ì–´ - ìš”ì²­ê³¼ ì‘ë‹µ ì‚¬ì´ì— ìˆì–´ì„œ íŠ¹ì •í•œ ë¬´ì–¸ê°€ë¥¼ ì²˜ë¦¬í•´ì£¼ëŠ” ê²ƒ.
	- ë¯¸ë“¤ì›¨ì–´ëŠ” í•¨ìˆ˜
	- ë¯¸ë“¤ì›¨ì–´ëŠ” requestë¥¼ ë°›ì•„ responseë¥¼ í´ë¼ì´ì–¸íŠ¸ì— ë³´ë‚¸ë‹¤.

	```javascript
	app.get('/', (req, res) => {
	  res.json({ message: 'ì•ˆë…•, ì½”ë“œì‡ (;' });
	});
	
	// (res, req) ê°€ ë¯¸ë“¤ì›¨ì–´ í•¨ìˆ˜.
	// ë¦¬í€˜ìŠ¤íŠ¸ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë¼ê³  í•˜ê¸°ë„ í•¨.
	
	// í•¨ìˆ˜ë¡œ ë”°ë¡œ ë¶„ë¦¬í•´ì„œ ì‚¬ìš© ê°€ëŠ¥ -> ì´ë ‡ê²Œ ë˜ë©´ ì—¬ëŸ¬ ìš”ì²­ì—ì„œ ì¬ì‚¬ìš© ê°€ëŠ¥
	function greeting(req, res) {
	  res.json({ message: 'ì•ˆë…•, ì½”ë“œì‡ (;' });
	}
	
	app.get('/', greeting);
	app.get('/hello', greeting);
	```

- ë¼ìš°íŠ¸ í•˜ë‚˜ì˜ ì—¬ëŸ¬ê°œì˜ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ.

	```javascript
	function greeting(req, res, next) {
	  next(); // ë‹¤ìŒ ë¯¸ë“¤ì›¨ì–´ í•¨ìˆ˜
	  res.json({ message: 'ì•ˆë…•, ì½”ë“œì‡ (;' });
	}
	```

- ë§¤ê°œë³€ìˆ˜ê°€ 4ê°œì¸ ê²½ìš°

	```javascript
	function greeting(err, req, res, next) {
	  res.json({ message: 'ì•ˆë…•, ì½”ë“œì‡ (;' });
	}
	```

- ì—¬ëŸ¬ê°œì˜ ë¯¸ë“¤ì›¨ì–´ í•¨ìˆ˜ ì²˜ë¦¬í•˜ê¸°
	- ë¯¸ë“¤ì›¨ì–´ í•¨ìˆ˜ ìˆœì„œëŒ€ë¡œ ì²˜ë¦¬ ë¨.

	```javascript
	function greeting(req, res, next) {
	  return res.json({ message: 'ì•ˆë…•, ì½”ë“œì‡ (;' });
	}
	
	function meeting(req, res, next) {
	  console.log("ë§Œë‚˜ì!")
	  next();
	}
	
	function bye(res, req, next) {
	  console.log("ì˜ê°€!")
	  next();
	}
	
	app.get('/hello', meeting, bye ,greeting);
	
	// ë§Œë‚˜ì
	// ì˜ê°€
	// ì•ˆë…• ì½”ë“œì‡ (; ì‘ë‹µ
	```

- `app.all()` ë¡œ ëª¨ë“  HTTP ë©”ì†Œë“œì— ëŒ€í•œ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì²˜ë¦¬í•  ìˆ˜ ìˆìŒ.
	- `all()` í•¨ìˆ˜ëŠ” ì²«ë²ˆì§¸ë¡œ ë°›ì€ ë¼ìš°íŒ…ë§Œ ì²˜ë¦¬í•¨!! ex) hello/world ëŠ” ì²˜ë¦¬ í•˜ì§€ ì•ŠìŒ.

	```javascript
	app.all("/hello", (req, res, next) => {
		console.log("all");
		next();
	}
	
	app.get("/hello", (req, res, next) => {
		console.log("hello");
		res.send({ message: "ì•ˆë…•"});
	});
	
	// GET /hello ìš”ì²­
	// all
	// hello
	// ì•ˆë…• 200
	```

- `app.use()` ë©”ì†Œë“œëŠ” ëª¨ë“  ìš”ì²­ì—ì„œ í•­ìƒ ì‹¤í–‰ ë¨.
	- `use()` ë¡œ ì„ ì–¸í•œ ë¯¸ë“¤ì›¨ì–´ëŠ” ì„ ì–¸ ìˆœì„œ ëŒ€ë¡œ ë™ì‘í•¨.
	- `use()` í•¨ìˆ˜ëŠ” ì²«ë²ˆì§¸ ì¸ìë¡œ ë°›ì€ í•˜ìœ„ ë¼ìš°íŒ… ê¹Œì§€ ëª¨ë‘ ì²˜ë¦¬ ex) hello/all hello/world

	```javascript
	// helloë¡œ ì‹œì‘ë˜ëŠ” ë¼ìš°íŒ…ì€ ëª¨ë‘ ê±°ì²˜ê° ex) hello/all hello/world
	app.use("/hello", (res, res, next) => {
		console.log("use");
		next();  
	});
	
	// ëª¨ë“  ê²½ë¡œë¡œ ê±°ì³ê°€ê²Œ í•  ìˆ˜ ìˆìŒ.
	app.use((res, res, next) => {
		console.log("all user");
		next();  
	}
	```

- í•˜ë‚˜ì˜ ìš”ì²­ì´ ì—¬ëŸ¬ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì§€ë‚˜ê°€ê²Œ ë˜ì–´ ìˆë‹¤ë©´, ëª¨ë“  ë¯¸ë“¤ì›¨ì–´ëŠ” ê°™ì€ `res`, `req` ê°ì²´ë¥¼ ê³µìœ í•¨.
	- ë‹¤ë¥¸ ë¯¸ë“¤ì›¨ì–´ ê°’ì„ ì „ë‹¬í•˜ê¸° ìœ„í•´ì„œ `res`, `req` ì— ê°’ì„ ì €ì¥í•˜ê¸°ë„ í•¨. ex) `req.user = â€œstevenâ€`
- express ì—ëŸ¬ë¥¼ ë°œìƒì‹œí‚¤ëŠ” ë°©ë²•
	1. throwë¡œ ì—ëŸ¬ë¥¼ ë˜ì§€ë‹¤.
	2. next í•¨ìˆ˜ì˜ ì¸ìë¡œ ì—ëŸ¬ë¥¼ ë„˜ê¸´ë‹¤.
	- ì—ëŸ¬ê°€ ë°œìƒ ë˜ë©´ ê·¸ ì¦‰ì‹œ ì¢…ë£Œë˜ê³  500 ìƒíƒœì½”ë“œì™€ Error ê°ì²´ê°€ ì‘ë‹µëœë‹¤.
		- ê¸°ë³¸ì ì¸ Error í•¸ë“¤ëŸ¬ê°€ ìˆì–´ì„œ ìœ„ì™€ ê°™ì´ ë™ì‘í•œ ê²ƒì´ë‹¤.
- ì—ëŸ¬ í•¸ë“¤ë§ ë¯¸ë“¤ì›¨ì–´ëŠ” ë§¨ ë§ˆì§€ë§‰ì— ì •ì˜ í•´ì•¼ í•¨.

	```javascript
	app.use(logger);
	app.use(checkAuth);
	app.get('/users', getUsersHandler);
	app.use((err, res, req, next) => {
		console.error(err.stack); // ì—ëŸ¬ ë¡œê¹…
	  res.status(500).send('Something went wrong!');
	}); // ì—ëŸ¬ ë¯¸ë“¤ì›¨ì–´
	
	// ë¯¸ë“¤ì›¨ì–´ ì‹¤í–‰ ìˆœì„œ logger -> checkAuth -> err
	```

- expressì—ëŠ” ë‚´ì¥ ë¯¸ë“¤ì›¨ì–´ë“¤ì´ ìˆë‹¤.
	- `app.use(express.json());` - bodyë¡œ json íƒ€ì…ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.
	- ì• ìª½ì— ë¯¸ë“¤ì›¨ì–´ë¥¼ ì¶”ê°€í•´ì¤˜ì•¼ í•œë‹¤. ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ bodyê°’ì€ ë¹„ì–´ ìˆë‹¤.
	- `express.urlencoded()`  - x-www-form-urlencoded í˜•ì‹ìœ¼ë¡œ bodyë¡œ ë°›ì•„ì˜¤ê¸° ìœ„í•¨.
	- `express.static(â€publicâ€)`  - ìƒìœ„ í´ë”ì— ì ‘ê·¼í•˜ê¸° ìœ„í•¨. (pubilc í´ë”)
- `app.route()` ë¥¼ ì‚¬ìš©í•´ì„œ ê°™ì€ urlì„ ë¬¶ì–´ì„œ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤.

	```javascript
	app.route('/users')
	  .get((req, res, next) => {
	    res.json({ message: 'User ëª©ë¡ ì¡°íšŒí•˜ê¸°' });
	  })
	  .post((req, res, next) => {
	    res.json({ message: 'User ì¶”ê°€í•˜ê¸°' });
	  });
	```

- Routerë¥¼ ì‚¬ìš©í•´ì„œ ë¶„ë¦¬í•  ìˆ˜ ìˆìŒ.
	- `express.Router()`  ë¶„ë¦¬
	- `app.use('/products', productRouter);` ë¡œ ì—°ê²°, ì¤‘ë³µë˜ëŠ” ë¼ìš°í„°(products) ë¶„ë¦¬.

	```javascript
	const productRouter = express.Router();
	
	productRouter.route('/')
		.get((req, res) => {
			res.json({ message: "ëª©ë¡" });
		})
		.post((req, res) => {
		
		})
		
	app.use('/products', productRouter);
	```

- Router ë³„ë¡œ ë¯¸ë“¤ì›¨ì–´ë¥¼ ì ìš©í•  ìˆ˜ ìˆìŒ.

	```javascript
	const productRouter = express.Router();
	
	productRouter.use((res, req, next) => {
		console.log("ìƒí’ˆ ë¼ìš°í„° ë¯¸ë“¤ì›¨ì–´");
		next();
	}
	```


### ğŸ™Œ JS ê°œë… ë§¤ê¾¸ê¸° 4

- JSì—ì„œëŠ” í•¨ìˆ˜ë¡œ ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŒ

	```javascript
	function Info(name, year) {
		this.name = name;
		this.year = year;
		
		this.introduce = function() {
			return `${this.name} ì…ë‹ˆë‹¤`;
		}
	}
	
	let steven = new Info('steven', 20); // Info { name: 'steven', age: 20 }
	```

- í™”ì‚´í‘œ í•¨ìˆ˜ë¡œëŠ” ê°ì²´ë¥¼ ë§Œë“¤ ìˆ˜ ì—†ìŒ âŒ
- ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ - í•¨ìˆ˜ê°€ ì„ ì–¸ëœ ìœ„ì¹˜ê°€ ìƒìœ„ ìŠ¤ì½”í”„ë¥¼ ì •í•¨.
	- ë‹¤ì´ë‚˜ë¯¹ ìŠ¤ì½”í”„ - í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•œ(ì‹¤í–‰í•œ) ìœ„ì¹˜ê°€ ìƒìœ„ ìŠ¤í¬í¬ë¥¼ ì •í•¨.

	```javascript
	var one = 1;
	
	function funcOne() {
			var one = 3;
			
			funcTwo();		
	}
	
	function funcTwo() {
			console.log(one); // 1
	}
	// í•¨ìˆ˜ë¥¼ ì„ ì–¸í•œ ê³³ê³¼ ê°™ì€ ì†Œì½”í”„(ì „ì—­ ë³€ìˆ˜)ì˜ ë³€ìˆ˜ë¥¼ ì½ìŒ.
	```

